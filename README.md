#Ansible Playbook for Penetration Testing
***Debian role tested on fresh installs of Debian 10***

##Playbook prep
After pulling this repo there are some key tasks before running the playbook against your systems.

1. Edit the inventory file in this repository and replace `linode` under the `[debian_pentest]` with the server you want to configure. In this case `linode` was a server configured in the ssh config file.

*Setup ANSIBLE_INVENTORY env variable and verify that ansible can ping your host*

```
export ANSIBLE_INVENTORY=/full/path/to/this/repo/inventory
ansible linode -m ping
```

2. Use `ansible-vault` to manage passwords that will be configured in `group_vars/all/vault.yml`. 
   - https://www.digitalocean.com/community/tutorials/how-to-use-vault-to-protect-sensitive-ansible-data-on-ubuntu-16-04
   - Create group_vars/all/vault.yml
   - Remember to update variables as needed in vault and within playbook
   - You can use `--vault-password-file` to call a secured file with your vault password OR `--ask-vault-pass` to enter it manually during playbook run.
   - With Linode the root user password is configured in the Linode dashboard. 
     - Set a root password and ssh key in Linode dashboard
     - However, you can manage secondary non-root user passwords in the vault. 
     - This playbook disables root login over ssh.
     - You can avoid using vault and manage passwords manually, plus disable the tasks that locks down SSH.

3. Run `ansible-playbook` on targeted host

```
ansible-playbook --vault-password-file=~/.ansible/vault_pass --limit linode site.yml
```
